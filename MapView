package com.mycompany.a3;
import java.util.Observable;
import java.util.Observer;
import com.codename1.ui.plaf.Border; 
import com.codename1.charts.util.ColorUtil;
import com.codename1.ui.layouts.BorderLayout;
import com.codename1.ui.Container;
import com.codename1.ui.TextArea;


public class MapView extends Container implements Observer {
	private GameWorld gw; 
	private static int height;//The height of the center
	private static int width; //width of the center
	private TextArea gameText;
	
	public MapView() {
		this.getAllStyles().setBorder(Border.createLineBorder(10,ColorUtil.rgb(255, 0, 0)));
		this.setLayout(new BorderLayout());
		gameText=new TextArea(); 
		gameText.getAllStyles().setBgTransparency(0);
		gameText.setEditable(false);
		MapView.height=this.getHeight(); 
		MapView.width=this.getWidth(); 
		this.setWidth(1000); 
		this.setHeight(1000);
		this.add(BorderLayout.NORTH,gameText); 
	}
	//Setting map height
	public void setMapHeight(int height) {
		MapView.height=height; 

	}
	//Setting map width
	public void setMapWidth(int width) {
		MapView.width=width; 

	}
	//Getting map height
	public int getMapHeight() {
		return height; 

	}
	//Getting map width
	public int getMapWidth() {
		return width; 

	}
	//The observers update method in order to get the correct output of the map
	public void update(Observable observable, Object data) {
		gw=(GameWorld) data;
		IIterator itr= gw.getCollection().getIterator(); 
		String display=""; 
		while(itr.hasNext()) {
			display=display+itr.getNext().toString()+"\n";
		}
		gameText.setText(display);
		this.repaint();
		
	}

}
